"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}define(["jquery","jquery-ui/sortable","jquery-ui/droppable"],function(t){var n={contentIdentifier:".t3js-page-ce",dragHeaderIdentifier:".t3js-page-ce-draghandle",dropZoneIdentifier:".t3js-page-ce-dropzone-available",dragIdentifier:".t3-page-ce-dragitem",validDropZoneClass:"active",dropPossibleHoverClass:"t3-page-ce-dropzone-possible",addContentIdentifier:".t3js-page-new-ce",originalStyles:"",initialize:function(){n.initializeDraggable(),n.initializeDroppable()},initializeDraggable:function(e){"object"!==_typeof(e)&&(e=t(n.contentIdentifier)),e.draggable({handle:n.dragHeaderIdentifier,scope:"sessionplaner",cursor:"move",distance:20,addClasses:!1,revert:"invalid",zIndex:100,start:function(){n.onDragStart(t(this))},stop:function(){n.onDragStop(t(this))}})},initializeDroppable:function(){t(n.dropZoneIdentifier).droppable({accept:n.contentIdentifier,scope:"sessionplaner",tolerance:"pointer",over:function(e,o){n.onDropHoverOver(t(o.draggable),t(this))},out:function(e,o){n.onDropHoverOut(t(o.draggable),t(this))},drop:function(e,o){n.onDrop(t(o.draggable),t(this))}})},onDragStart:function(e){n.originalStyles=e.get(0).style.cssText,e.children(n.dragIdentifier).addClass("dragitem-shadow"),t(n.dropZoneIdentifier).each(function(){var e=t(this);"stash"!==e.attr("id")&&0!==e.children().length||e.addClass(n.validDropZoneClass)})},onDragStop:function(e){e.children(n.dragIdentifier).removeClass("dragitem-shadow"),t(n.dropZoneIdentifier+"."+n.validDropZoneClass).removeClass(n.validDropZoneClass),t(n.dropZoneIdentifier).droppable("enable"),e.get(0).style.cssText=n.originalStyles},onDropHoverOver:function(e,o){o.droppable("enable"),"stash"!==o.attr("id")&&o.children().length?o.droppable("disable"):o.hasClass(n.validDropZoneClass)&&o.addClass(n.dropPossibleHoverClass)},onDropHoverOut:function(e,o){o.removeClass(n.dropPossibleHoverClass)},onDrop:function(e,o){o.removeClass(n.dropPossibleHoverClass),e.detach().css({top:0,left:0}).appendTo(o)}};return t(n.initialize),n});